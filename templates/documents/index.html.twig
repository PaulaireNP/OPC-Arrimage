{% extends 'base.html.twig' %}

{% block title %}Liste de documents{% endblock %}

{% block body %}

    <div class="main-documents">

        {% include 'layout/navbarDashboardAdmin.html.twig' %}

        <div class="main-documents__container-documents">

            <h1>Documents</h1>

            <div>

                <div style="display:flex; justify-content: space-between;">
                    <h2>L'association</h2>
                    <button style="height: 20px; align-self: center" name="asso" onclick="window.location.href='{{ path('app_documents_new', {'category': 'Association'}) }}'" class="ajouter">
                        Ajouter un document
                    </button>
                </div>


                <table class="table">
                    <thead>
                        <tr>
                            <th></th>
                            <th>Id</th>
                            <th>Titre</th>
                            <th>Fichier</th>
                            <th>Visible</th>
                            <th>actions</th>
                        </tr>
                    </thead>
                    <tbody>
                    {% for document in documents %}
                        {% if document.categorie =='Association' %}
                            <tr>
                                <td><a href="{{ path('app_documents_show', {'id': document.id}) }}">Voir</a></td>
                                <td>{{ document.id }}</td>
                                <td>{{ document.title }}</td>
                                <td>{{ document.file }}</td>
                                <td>{{ document.visible ? 'Yes' : 'No' }}</td>
                                <td>
                                    <form method="post" action="{{ path('app_documents_delete', {'id': document.id}) }}" onsubmit="return confirm('Are you sure you want to delete this item?');">
                                        <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ document.id) }}">
                                        <button style="background: none; border: none; color: blue; cursor: pointer; padding: 0; font: inherit; outline: inherit;">
                                            supprimer
                                        </button>

                                    </form>
                                    <a href="{{ path('app_documents_edit', {'id': document.id}) }}">modifier</a>
                                </td>
                            </tr>
                        {% endif %}
                    {% else %}
                        <tr>
                            <td colspan="6">no records found</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>

            <div>

                <div style="display:flex; justify-content: space-between;">
                    <h2>Prévention spécialisée</h2>
                    <button style="height: 20px; align-self: center" name="asso" onclick="window.location.href='{{ path('app_documents_new', {'category': 'Preventionspecialisee'}) }}'" class="ajouter">
                        Ajouter un document
                    </button>
                </div>


                <table class="table">
                    <thead>
                    <tr>
                        <th></th>
                        <th>Id</th>
                        <th>Titre</th>
                        <th>Fichier</th>
                        <th>Visible</th>
                        <th>actions</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for document in documents %}
                        {% if document.categorie =='Preventionspecialisee' %}
                            <tr>
                                <td><a href="{{ path('app_documents_show', {'id': document.id}) }}">Voir</a></td>
                                <td>{{ document.id }}</td>
                                <td>{{ document.title }}</td>
                                <td>{{ document.file }}</td>
                                <td>{{ document.visible ? 'Yes' : 'No' }}</td>
                                <td>
                                    <form method="post" action="{{ path('app_documents_delete', {'id': document.id}) }}" onsubmit="return confirm('Are you sure you want to delete this item?');">
                                        <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ document.id) }}">
                                        <button style="background: none; border: none; color: blue; cursor: pointer; padding: 0; font: inherit; outline: inherit;">
                                            supprimer
                                        </button>

                                    </form>
                                    <a href="{{ path('app_documents_edit', {'id': document.id}) }}">modifier</a>
                                </td>
                            </tr>
                        {% endif %}
                    {% else %}
                        <tr>
                            <td colspan="6">no records found</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>

            <div>

                <div style="display:flex; justify-content: space-between;">
                    <h2>Rapports d'activités</h2>
                    <button style="height: 20px; align-self: center" name="asso" onclick="window.location.href='{{ path('app_documents_new', {'category': 'Rapportsdactivites'}) }}'" class="ajouter">
                        Ajouter un document
                    </button>
                </div>


                <table class="table">
                    <thead>
                    <tr>
                        <th></th>
                        <th>Id</th>
                        <th>Titre</th>
                        <th>Fichier</th>
                        <th>Visible</th>
                        <th>actions</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for document in documents %}
                        {% if document.categorie =='Rapportsdactivites' %}
                            <tr>
                                <td><a href="{{ path('app_documents_show', {'id': document.id}) }}">Voir</a></td>
                                <td>{{ document.id }}</td>
                                <td>{{ document.title }}</td>
                                <td>{{ document.file }}</td>
                                <td>{{ document.visible ? 'Yes' : 'No' }}</td>
                                <td>
                                    <form method="post" action="{{ path('app_documents_delete', {'id': document.id}) }}" onsubmit="return confirm('Are you sure you want to delete this item?');">
                                        <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ document.id) }}">
                                        <button style="background: none; border: none; color: blue; cursor: pointer; padding: 0; font: inherit; outline: inherit;">
                                            supprimer
                                        </button>

                                    </form>
                                    <a href="{{ path('app_documents_edit', {'id': document.id}) }}">modifier</a>
                                </td>
                            </tr>
                        {% endif %}
                    {% else %}
                        <tr>
                            <td colspan="6">no records found</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>

{% endblock %}
